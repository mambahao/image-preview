!function(){var a=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},b=function(a,b){if(!this.isSupported)throw new Error("Older browsers are not supported.");var c="undefined"!=typeof b?b:{};if("object"!=typeof c||Array.isArray(c))throw new Error("Options must be passed as object!");this.setElements(a,c),this.bindEvents()};b.prototype={defaults:{placeholder:".image-placeholder",width:"auto",height:"auto",imgClass:"img-load",method:"html",callback:null},isSupported:function(){return window.File&&window.FileReader&&window.FileList&&window.Blob},setElements:function(b,c){this.options=a(this.defaults,c),this.$element=document.querySelectorAll(b)[0],this.$placeholder=document.querySelectorAll(this.options.placeholder)[0]},bindEvents:function(){this.$element.addEventListener("change",this.render.bind(this),!1)},render:function(a){var b=a.currentTarget,c=new FileReader,d=this,e=this.options;c.onload=function(a){return d["css"===e.method?"setBackground":"setImage"].bind(d)}(b.files[0]),c.readAsDataURL(b.files[0])},setImage:function(a){var b=this.options,c='<img src="'+a.target.result+'" width="'+b.width+'" height="'+b.height+'" class="'+b.imgClass+'">';if("html"===b.method)return this.$placeholder.innerHTML=c,void("function"==typeof b.callback&&b.callback());if("append"===b.method)return this.$placeholder.innerHTML=this.$placeholder.innerHTML+c,void("function"==typeof b.callback&&b.callback());throw new Error("Only html and append methods are allowed!")},setBackground:function(a){var b=this.options;this.$placeholder.style.backgroundImage="url("+a.target.result+")","function"==typeof b.callback&&b.callback()}},window.ImagePreview=b}();